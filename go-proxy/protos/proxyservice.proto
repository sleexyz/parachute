syntax = "proto3";

package proxyservice;
option go_package = "pb/proxyservice";

import "google/protobuf/timestamp.proto";



message Settings {
    double baseRxSpeedTarget = 1;
    bool useExponentialDecay = 2;
}


message Request {
    oneof message {
        Settings setSettings = 1;
        SetTemporaryRxSpeedTargetRequest setTemporaryRxSpeedTarget = 2;
        ResetPointsRequest resetPoints = 3;
    }
}

message ResetPointsRequest {
}

message SetTemporaryRxSpeedTargetRequest {
    double speed = 1;
    int32 duration = 2;
}

message Sample {
    string ip = 1;
    int64 rxBytes = 2;
    google.protobuf.Timestamp startTime = 3;
    int64 duration = 4; // how long the sample
    double points = 5;
    double k = 6;
    double minutesLeft = 7;
    double rxSpeed = 8;
    double rxSpeedTarget = 9;
    repeated string matches = 10;
}